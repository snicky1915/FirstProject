CREATE TABLE stock_history (
    history_id      BIGINT AUTO_INCREMENT PRIMARY KEY,
    stock_id        BIGINT,
    product_id      BIGINT,
    qty             INT,

    -- Common fields
    created_at      TIMESTAMP,
    created_id      VARCHAR(50),
    final_update_at TIMESTAMP,
    final_update_id VARCHAR(50),
    del_yn          CHAR(1),
    use_yn          CHAR(1),

    -- History log
    action          VARCHAR(20),
    changed_by      VARCHAR(50),
    changed_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);